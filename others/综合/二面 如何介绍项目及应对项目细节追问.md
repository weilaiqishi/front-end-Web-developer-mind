# 二面 如何介绍项目及应对项目细节追问

## 理论

[08.二面 2：如何介绍项目及应对项目细节追问](https://juejin.cn/post/6844904100459446279)

[正确介绍自己的项目经验 再也不为面试发愁了](https://juejin.cn/post/7017732278509453348)

项目面试内容
1.`项目描述`。用通俗易懂且简洁的方式简述项目，阐述整个项目及其背景、规模，不要有太多的技术词汇。
2.`项目模块`。2-3分钟的流程介绍，详细的列出项目实现的功能，各个模块，整个过程，大概思路。
3.`项目技术栈`。说出项目实现的技术栈和架构，能说出项目的不寻常之处，比如采用了某项新技术，采用了某个架框等，简要说明技术选型。
4.`候选人的角色及责任`。说出你在项目中的责任，所涉及的功能模块，运用的技术，碰到的难题、代码细节，技术点、应对措施。
5.`项目总结`，待优化点。

注意点
1.`回答很简单`。问什么答什么，往往就一句话回答。如果你日常回答别人的问题或者之前面试中出现过类似情况就要有所改善了。这里应该将你知道的说出来，重点突出跟问题相关的思想、框架或技术点等。
2.`扯闲篇`，大忌。说少了太过于简短没有互动不好，自来熟，回答问题没有重点，没有逻辑，乱说一通也是大忌。会让面试官感觉你思路混乱，抓不到重点，只是拿其他方面的东西东拼西凑。
3.`说的太过流利，也未必就是好事`。虽然面试有所准备在面试官看来是好事，但是机械的准备好答案去背诵，主观上给人一种你并没有理解这个问题，只是靠记忆知道答案，后续面试官的问题也会相应的加大难度。这方面改善建议是适当停顿，做思考状，边思考边说，过程中同面试官有个眼神上的互动。
4.`有的放矢的介绍技术细节`。不要一次性过多的介绍技术细节，技术面点到为止，等面试官来问。因为面试官通常都有自己的面试节奏。所以技术点等着问的时候再多聊，可以先事先埋下技术点引导着面试官继续追问。
5.`主动介绍项目亮点`。因为面试官没有义务挖掘你的亮点，所以这就需要自己主动提。遇到不会的问题，就如实说这个技术点不会。或者半懂也可以直接说。甚至可以谈谈自己的见解。把自己了解的说说。

要素与样式
> 1.控制在1分钟里面，讲出项目基本情况，比如项目名称，背景，给哪个客户做，完成了基本的事情，做了多久，项目规模多大，用到哪些技术，数据库用什么，然后酌情简单说一下模块。重点突出背景，技术，数据库和其他和技术有关的信息。
>
> 我在XX公司做了XX外汇保证金交易平台，客户是XX银行，主要完成了挂盘，实盘成交，保证金杠杆成交等功能，数据库是Oracle，前台用到JS等技术，后台用到Java的SSH，几个人做了X个月。不需要详细描述各功能模块，不需要说太多和业务有关但和技术无关的。如果面试官感兴趣，等他问。
> 2.要主动说出你做了哪些事情，这部分的描述一定需要和你的技术背景一致。
>
> 我做了外汇实盘交易系统，挂单成交系统，XXX模块，做了X个月
>
> 3.描述你在项目里的角色
>
> 我主要是做了开发，但在开发前，我在项目经理的带领下参与了业务调研，数据库设计等工作，后期我参与了测试和部署工作。
>
> 4.可以描述用到的技术细节，特别是你用到的技术细节，这部分尤其要注意，你说出口的，一定要知道，因为面试官后面就根据这个问的。你如果做了5个模块，宁可只说你能熟练说上口的2个。
>
> 用到了Java里面的集合，JDBC...等技术，用到了Spring MVC等框架，用技术连接数据库。
>
> 5.这部分你风险自己承担，如果可以，不露声色说出一些热门的要素，比如Linux，大数据，大访问压力等。但一旦你说了，面试官就会直接问细节。
>
> 这个系统里，部署在Linux上，每天要处理的数据量是XX，要求是在4小时，1G内存是的情况下处理完5千万条数据。平均访客是每分钟XXX。

不露痕迹地说出面试官爱听的话
> 能考虑到代码的扩展性，有参与框架设计的意识
> 有调优意识，能通过监控发现问题点，然后解决
> 动手能力很强，肯干活，会的东西比较多，团队合作精神比较好
> 责任心比较抢，能适应大压力的环境
> 有主见，能不断探索新的知识

## 百秋电商经历

1.我在百秋电商公司做了互动活动类微信小程序和售前营销CRM类淘宝小程序，客户是各个奢侈品牌，起到引流和增加销量的效果。
后端有对接php有对接java，简单的项目就用小程序程序云函数或node写的后端。前端一开始用原生小程序语法，后面为了提高开发效率就用Taro + React开发。
2.在项目中的角色是主力开发，带3个人，在项目经理的带领下参与了业务调研和业务设计。

### 3.技术细节

#### Taro

Taro原理

Taro 与 淘宝小程序 的兼容问题
> Taro3.1起把对每个小程序平台的兼容逻辑抽取了出来，以 Taro 插件的形式注入 Taro 框架，从而支持对应平台的编译
> 支付宝小程序编译平台对应插件时@tarojs/plugin-platform-alipay，微信小程序是@tarojs/plugin-platform-weapp
  而基于开放式的编译平台架构，开发者能够通过继承目标的端平台插件，迅速开发出自定义端平台插件，完成对这些新组件或 API 的支持，无需等待 Taro 发布版本。
  比如相机标签/canvas标签编译到淘宝小程序缺少一些属性，我就自行添加属性来修复。

Taro 打包慢问题
> 有一个项目是做全景店铺的，用到了 `threejs` 包,占200kb,没优化前从修改代码到模拟器加载出小程序耗时24s，使用 `splitChunks` webpack插件进行代码分割后优化到8.5s
> 我还看到了 携程-智行小程序团队 对 `Taro编译打包` 优化的文章。缓存与并行是进行性能优化的两个重要切入角度，并行就是用 `thread-loader` 处理 `babel-loader`优化js文件打包，缓存优化策略一是使用 cache-loader 缓存用于处理 scss 文件的 loaders，二是 babel-loader，设置参数 cacheDirectory 为 true，开启 babel-loader 缓存。

Taro 打包微信淘宝双端小程序
> 在Taro打包配置文件中，通过 `process.argv` 获取动Node.js进程时的命令行参数，根据是哪个端来设置 `webpack` 的 `outputRoot`
> 也可以在命令中配置测试环境，然后通过 `webpack` 的 `defineConstants` 来设置常量
> 在 app.config.ts中根据 `process.env.TARO_ENV` 来设置 `pages`，就可以实现不同端打包不同页面

#### Node.js

在项目中Node.js做什么角色
> 我用Node.js主要实现web后端，根据需求自行设计业务逻辑、设计数据库字段，完成简单的增删查改功能。复杂的项目还是会接专门的后端。
> strapi 是一个 无头 cms 框架，自带 后端管理页面 和 用户权限系统，并且有内容类型生成器，可以在管理页面中生成编辑数据库表，并且生成 `restful风格的api`。我用 strapi 来做web后端，快速实现原型开发。比如 品牌宣传游戏，后端实现 微信静默登录注册账号，游戏次数管理，游戏积分存储排名，前十名领奖信息填写。
> 小程序的云函数，用来实现淘宝小程序业务逻辑。

#### 组件（单独的组件比不上方案， UI组件库/埋点方案/错误收集方案/代码复用脚手架）

##### 基于JSON配置的海报生成组件

必要性
> 小程序中有大量的生成图片需求, 直接在 canvas 上绘制图形，对于普通开发者来说代码会特别凌乱并且难以维护, 经常会花费很久的时间去优化代码

做法
> 有开源的微信小程序生成图片库 `Painter`，主要支持 文本、图片、矩形、qrcode 四种内容，通过匹配CSS属性执行canvas api。
我就是把他移植到 `Taro` 上，同时支持淘宝微信端。
配合开源的PC端上的拖拽编辑器（使用`fabric.js` canvas库）迅速完成项目需求。

##### 淘宝千牛端程序 后台组件封装

背景
> 千牛端程序要用小程序语法开发，Web桌面端组件库不能使用，得自己封装

基于JSON配置的form表单
> 主要功能是根据JSON数组 for循环出平台支持得表单标签，自定义组件用插槽渲染
> 表单数据校验使用 `async-validator` 库
> 表单数据重置功能，重置时把记录初始值赋值到当前值，并调用外部传进来的回调函数来支持自定义组件重置
> 表单项条件渲染，给每个表单项一个isRender函数，参数给出当前表单数据来给父组件计算是否需要渲染该表单项

Excel上传下载
> 使用 node-xlsx 操作Excel数据, 用云存储api 保存文件

图片上传组件
> 主要利用 淘宝选择文件api 和 云函数存储api

##### Web端怎么实现图片上传组件

[写给新手前端的各种文件上传攻略，从小图片到大文件断点续传](https://juejin.cn/post/6844903968338870285)

原理
> 根据 http 协议的规范和定义，完成请求消息体的封装和消息体的解析，然后将二进制内容保存到文件。

无刷新上传
> 使用 `XMLHttpRequest`, HTML中用 type="file" 的 input 标签， 给一个按钮加上上传事件
> 出发上传事件时，1.获取 input dom对象，dom上的files就是上传了的文件
2.构造FormData对象，append文件
3.用POST请求，Content-Type为multipart/form-data 发送到服务端

分片
> File 继承了Blob的功能,使用 file.slice 进行分片，node使用stream pipe进行文件合并

断点续传
> 为每个分段生成 hash 值，使用 spark-md5 库
> 将上传成功的分段信息保存到本地
> 重新上传时，进行和本地分段 hash 值的对比，如果相同的话则跳过，继续下一个分段的上传

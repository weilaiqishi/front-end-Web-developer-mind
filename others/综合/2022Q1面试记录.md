# 2022Q1面试记录

## garena

### 1.css

#### @media

> 1. 常用来做响应式布局 `@media screen and (min-width: 900px)`
>    移动端横竖屏适配 `@media (orientation: landscape)` 横屏 `@media (orientation: portrait)` 竖屏
>    暗黑模式 `@media(prefers-color-scheme: dark)`
> 2. 可以根据不同的媒体类型定义不同的样式 `@media` 规则可置于您代码的顶层或位于其它任何 `@条件规则组` 内。
> 3. 媒体类型
>
> - `all` 所有设备上都加载。
> - `print` 在打印预览模式下在屏幕上查看的分页材料和文档中加载。
> - `screen` 电脑屏幕，平板电脑，智能手机等，中加载。
> - `speech` 屏幕阅读器等发声设备中加载。
>
> 4. 逻辑运算符 逻辑运算符 `not`，`and`以及`only`可以被用于组成一个复杂的媒体查询。还可以通过用逗号分隔多个媒体查询来将它们合并为一个规则。
> 5. 常用媒体
>
> - `height` 输出设备中的页面可见区域高度。
> - `width` 输出设备中的页面可见区域宽度。
> - `max-aspect-ratio` 输出设备的屏幕可见宽度与高度的最大比率。
> - `max-device-aspect-ratio` 输出设备的屏幕可见宽度与高度的最大比率。
> - `max-device-height` 输出设备的屏幕可见的最大高度。
> - `max-device-width` 输出设备的屏幕最大可见宽度。
> - `max-height` 输出设备中的页面最大可见区域高度。
> - `max-width` 输出设备中的页面最大可见区域宽度。
> - `min-height` 输出设备中的页面最小可见区域高度。
> - `min-width` 输出设备中的页面最小可见区域宽度。

#### css 如何实现响应式布局大屏幕三等分、中屏幕二等分、小屏幕一等分

方案一： 使用 Grid 布局，grid-template-columns: 控制等分， gap: 控制间隙

```css
@media (min-width: 768px) {
  .container {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
@media (min-width: 1024px) {
  .container {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
.container {
  display: grid;
}
.conainer {
  gap: 1rem;
}
```

方案二： Grid 布局可以自动判断容器大小，无论大小屏幕自动撑满并均分
repeat: 用以 N 整分
auto-fill：表示自动填充
minmax: 即书面意思，最小宽度为 300px

```css
.container {
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
}
```

#### flex布局

**flex 布局中 order 有何作用**
`order` 属性定义 Flex 布局中子元素的排列顺序，数值越小，排列越靠前，默认为 0。

**如何实现三列均分布局**
使用 Flex:
注意使用 `calc(100% / 3)` 设置 `flex-basis`，同时它的缺陷是不能够很好的为子元素设置左右间隙
```css
.flex-container {
  display: flex;
  flex-wrap: wrap;
  // gap: 1rem;

  .item {
    flex: 0 0 calc(100% / 3);
  }
}
```
使用 Grid:
使用 Grid 直接操作容器即可，对于子元素之间的间隙也可以很好地控制
```css
.grid-container {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 1rem;
}
```

**Flex 布局中的 flex-basis 与 width 有何区别**
1. 当 flex-direction 为 column 时，主轴为纵轴，此时 flex-basis 与 height 对应
2. flex-basis 的值为理想情况，而在实际情况中可能被压缩

grid布局

#### img的object-fit属性

- `contain`
  被替换的内容将被缩放，以在填充元素的内容框时保持其宽高比。 整个对象在填充盒子的同时保留其长宽比，因此如果宽高比与框的宽高比不匹配，该对象将被添加“黑边”。
- `cover`
  被替换的内容在保持其宽高比的同时填充元素的整个内容框。如果对象的宽高比与内容框不相匹配，该对象将被剪裁以适应内容框。
- `fill`
  被替换的内容正好填充元素的内容框。整个对象将完全填充此框。如果对象的宽高比与内容框不相匹配，那么该对象将被拉伸以适应内容框。
- `none`
  被替换的内容将保持其原有的尺寸。
- `scale-down`
  内容的尺寸与 `none` 或 `contain` 中的一个相同，取决于它们两个之间谁得到的对象尺寸会更小一些。

具体问题就是300*300的div里面放置270*270的图片，但是图片比例不确定

### 2.js、ts

promise

原型链

结合实际例子说出编程思路

ts类型
原始类型：`string`、`number` 和 `boolean`
BigInt、symbol、null、undefined
数组
any、unkonwn
函数
对象类型
字面量
枚举

ts抽象类
抽象类，所以我们不能使用 new 去实例化它。相反地，我们需要创建一个派生类，让它去实现抽象成员
```Typescript
abstract class Base {
    abstract getName(): string;
    printName(){
        console.log("Hello, " + this.getName());
    }
}

const b = new Base();
// Cannot create an instance of an abstract class.

class Derived extends Base {
    getName() {
        rteurn "world";
    }
}

const d = new Derived();
d.printName();
```

### 3.vue

## 上海顺丰

### 一面视频面

成都团队面试，因一年半经验加简历不出色，被当成新手面试了。
面试官按14k来问，主要问基础和框架比较多，普通八股文

#### 1.js、ts

数组拍平（主要要广度优先遍历/怎么处理）、js数据类型、深拷贝（不可遍历引用类型、可遍历引用类型、weakMap处理循环引用、BFS防爆栈）

ts有什么好处（用得不多，答了数据类型提示，面试官还要其他的）

#### 2.css

盒模型、BFC场景、垂直居中（区分定高和不定高）、flex 1（第三个属性 flex-basic）

#### 3.框架

##### React

React各版本改进
> 答了:
>
> - React15不可中断渲染，React16多了一个 ``
> 面试官主要想要15与16 Class component生命周期对比，以及使用Memo实现PureComponent，浅比较和深比较

React Hooks 有哪些解决了哪些问题（漏了useContext，说主要用Mobx），
useCallback与useMemo（答了要缓存一个函数或某些计算值，这样作为props传给包了Memo的子组件防止重新渲染，还可以用来做节流防抖，面试官觉得答得不够精确，要说到普通的声明一个函数或对象在组件重新渲染时会声明新对象，引用地址变了）

###### Hooks实现原理（答了区分mount和update，内容不够多）

[让我们手动实现 React Hooks](https://zhuanlan.zhihu.com/p/50358654)

hook数据结构
​在FunctionComponent中，多个hook会形成hook链表，保存在Fiber的memoizedState的上，而需要更新的Update保存在hook.queue.pending中

``` javascript
const hook: Hook = {
  memoizedState: null,//对于不同hook，有不同的值
  baseState: null,//初始state
  baseQueue: null,//初始queue队列
  queue: null,//需要更新的update
  next: null,//下一个hook
};
```

###### PureComponent怎么实现（没答上，面试官说包一层Memo）

[React中的Pure Component是什么?](https://zhuanlan.zhihu.com/p/379197285)

Mobx与Redux区别与选型（区别答了面向对象vs函数式，响应式vs声明式，`可变数据Mutable`与`不可变数据Immutable`即Redux的reducer要返回一个新数据，Redux是支持数据回溯的，Rudex要写async await要用中间件redux-thunk）（选型回答了项目要简单好上手时用Mobx，当项目需要数据回溯例如一个支持撤回的画板就要用Redux）

Vue与React区别与选型

> 答了:
>
> 1.数据驱动实现不同，React是传统消息驱动模式，setState通知变更检测，Vue是proxy模式 （都是数据驱动都能使用jsx进行编程）
> 2.开发体验上，React主要用JSX，Vue主要用template
> 3.面试官还想要的是设计理念
  Vue 进行数据拦截/代理，它对侦测数据的变化更敏感、更精确，也间接对一些后续实现（比如 hooks，function based API）提供了很大的便利。
  React 推崇函数式，它直接进行局部重新刷新（或者重新渲染），这样更粗暴，但是更简单，让我们的开发回到了上古时代，就是刷新呗，前端开发非常简单。但是 React 并不知道什么时候“应该去刷新”，触发局部重新变化是由开发者手动调用 setState 完成。
  尤雨溪在知乎上回答 React 提出 UI 开发的新思路，试图改变用户    Vue 从一开始的定位就是尽可能的降低前端开发的门槛，让更多的人能够更快地上手开发

选型只答了一个官网项目，前端对Vue比较熟，为了兼容IE只能用Vue2不能用Vue3

#### 4.小程序

静默登录与云函数获取openid（从函数context上获取）

#### 5.前端工程化

基本都没做过

大前端IOS安卓

微前端
[微前端落地的那些事](https://juejin.cn/post/7065559452908257311)

服务端渲染
[Vue 服务端渲染（SSR）](https://juejin.cn/post/6844903569632526344)

埋点方案
[小公司自建前端监控埋点体系，证明可行](https://juejin.cn/post/6844904161562066958)

脚手架复用代码

#### 6.网络

301 302 304状态码
[http 常见的状态码有哪些](https://q.shanyue.tech/base/http/36.html#_101-switch-protocol)

http与https

## 上海申通（菜鸟驿站）

### 一面电话面

#### 1.js、ts=

ts数据类型

type与interface

#### 3.框架=

##### React=

虚拟dom是怎么存储的

#### 4.小程序=

Taro原理
[Taro3跨端跨框架原理初探](https://juejin.cn/post/6989968343163731981)

Taro具体是怎么样兼容小程序平台的
[官方文档](https://nervjs.github.io/taro/docs/platform-plugin/)

#### 7.前端管理

来了一个不小的需求，怎么分配任务

1.任务分配。了解小组成员的特点,
初级的开发简单具体的，如某个关卡内容
中级的开发需求复杂，影响范围较大的
开发完的内容要告知数据通信、功能调用的发放
2.任务细分。提前梳理需求，审查服务端接口定义和UI设计稿是否满足需求，在开发前准确理清任务的脉络，
如前端有多少个页面和模块要开发
3.任务优先级。开发时间来不急了，可以先把某部分功能上线，如活动报名为一期，活动开始为二期。
也可以先安排开发完某个局部的模块就提测，后面再测试整体

[作为开发小组长的一些感悟](https://www.jianshu.com/p/9922a101921d)
